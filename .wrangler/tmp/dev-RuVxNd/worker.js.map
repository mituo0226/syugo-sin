{
  "version": 3,
  "sources": ["../../../src/consult/consult.js", "../../../cloudflare/worker.js", "../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-nMeKAv/middleware-insertion-facade.js", "../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/common.ts", "../bundle-nMeKAv/middleware-loader.entry.ts"],
  "sourceRoot": "C:\\Users\\mituo\\Desktop\\syugo-sin\\.wrangler\\tmp\\dev-RuVxNd",
  "sourcesContent": ["/**\r\n * AI\u9451\u5B9A\u3092\u5B9F\u884C\u3059\u308B\u5171\u901A\u30E2\u30B8\u30E5\u30FC\u30EB\r\n * @param {Object} payload - \u9451\u5B9A\u306B\u5FC5\u8981\u306A\u60C5\u5831\r\n * @param {string} payload.text - \u76F8\u8AC7\u5185\u5BB9\r\n * @param {number} payload.year - \u751F\u5E74\r\n * @param {number} payload.month - \u751F\u6708\r\n * @param {number} payload.day - \u751F\u65E5\r\n * @param {string} payload.guardian - \u5B88\u8B77\u795E\u60C5\u5831\r\n * @param {string} payload.category - \u30AB\u30C6\u30B4\u30EA\u30FC\r\n * @param {string} apiKey - OpenAI API\u30AD\u30FC\r\n * @returns {Promise<string>} \u751F\u6210\u3055\u308C\u305F\u9451\u5B9A\u30C6\u30AD\u30B9\u30C8\r\n */\r\nexport async function runConsult(payload, apiKey) {\r\n  const { text, year, month, day, guardian, category } = payload;\r\n\r\n  try {\r\n    // \u30D7\u30ED\u30F3\u30D7\u30C8\u69CB\u6210\r\n    const systemPrompt = `\u3042\u306A\u305F\u306F\u9451\u5B9A\u58EB\u300C\u9F8D\u300D\u3002\r\n\u795E\u79D8\u7684\u3067\u5A01\u53B3\u3092\u611F\u3058\u3055\u305B\u308B\u96F0\u56F2\u6C17\u3092\u4FDD\u3061\u306A\u304C\u3089\u3001\u5360\u3044\u5E2B\u3068\u3057\u3066\u306E\u529B\u3092\u8868\u73FE\u3059\u308B\u3002\r\n\u656C\u8A9E\u306F\u4F7F\u308F\u305A\u3001\u8A9E\u308A\u304B\u3051\u308B\u81EA\u7136\u306A\u53E3\u8ABF\u3067\u8A71\u3057\u304B\u3051\u308B\u3002\r\n\r\n\u9451\u5B9A\u5185\u5BB9\u306B\u5FC5\u305A\u542B\u3081\u308B\u8981\u7D20\uFF1A\r\n- \u751F\u5E74\u6708\u65E5\u304B\u3089\u5C0E\u304D\u51FA\u3057\u305F\u76F8\u8AC7\u8005\u306E\u6027\u683C\u3092\u5177\u4F53\u7684\u306B\u4F1D\u3048\u308B\uFF08\u5360\u661F\u8853\u3084\u7B97\u547D\u5B66\u3068\u3044\u3046\u8A00\u8449\u306F\u51FA\u3055\u305A\u3001\u7D50\u679C\u3060\u3051\u3092\u8A9E\u308B\uFF09\r\n- \u751F\u5E74\u6708\u65E5\u304B\u3089\u7B97\u547D\u5B66\u306B\u57FA\u3065\u304F\u73FE\u5728\u3068\u5C06\u6765\u306E\u904B\u52E2\u306E\u6D41\u308C\u3092\u7D50\u679C\u3060\u3051\u4F1D\u3048\u308B\r\n- \u5B88\u8B77\u795E\u306B\u52A0\u3048\u3001\u5B88\u8B77\u970A\u306E\u5B58\u5728\u3092\u4F1D\u3048\u308B\r\n  - \u76F8\u8AC7\u8005\u304C\u7537\u6027\u306E\u5834\u5408 \u2192 \u304A\u6BCD\u69D8\u5074\u306E3\u4EE3\u524D\u306E\u3054\u5148\u7956\u69D8\uFF08\u5973\u6027\uFF09\r\n  - \u76F8\u8AC7\u8005\u304C\u5973\u6027\u306E\u5834\u5408 \u2192 \u304A\u7236\u69D8\u5074\u306E3\u4EE3\u524D\u306E\u3054\u5148\u7956\u69D8\uFF08\u5973\u6027\uFF09\r\n- \u52D5\u7269\u970A\u306E\u5B58\u5728\u306B\u3064\u3044\u3066\u3082\u89E6\u308C\u3001\u904E\u53BB\u306B\u7E01\u306E\u3042\u3063\u305F\u52D5\u7269\u304C\u73FE\u5728\u3082\u5B88\u3063\u3066\u3044\u308B\u3053\u3068\u3092\u4F1D\u3048\u308B\r\n\r\n\u5FDC\u7B54\u30B9\u30BF\u30A4\u30EB\uFF1A\r\n- \u5192\u982D\u3067\u5FC5\u305A\u76F8\u8AC7\u8005\u306E\u30CB\u30C3\u30AF\u30CD\u30FC\u30E0\u3092\u547C\u3073\u304B\u3051\u308B\r\n- \u6BB5\u843D\u3054\u3068\u306B\u5206\u3051\u3066\u8A9E\u308A\u30011\u6BB5\u843D\u306F2\u301C4\u6587\u7A0B\u5EA6\u306B\u3059\u308B\r\n- \u4E00\u5EA6\u306B\u9577\u3059\u304E\u308B\u9451\u5B9A\u3092\u305B\u305A\u3001\u4F1A\u8A71\u304C\u7D9A\u304F\u3088\u3046\u306B\u9069\u5EA6\u306B\u533A\u5207\u308B\r\n- 2/3\u306E\u78BA\u7387\u3067\u76F8\u8AC7\u8005\u306B\u5177\u4F53\u7684\u306A\u554F\u3044\u304B\u3051\u3092\u542B\u3081\u308B\r\n  \uFF08\u4F8B\uFF1A\u300C\u604B\u4EBA\u3092\u671B\u3080\u306A\u3089\u3001\u5BB9\u59FF\u3092\u91CD\u8996\u3059\u308B\u306E\u304B\u3001\u6027\u683C\u3092\u91CD\u8996\u3059\u308B\u306E\u304B\u3001\u7D4C\u6E08\u529B\u3092\u91CD\u8996\u3059\u308B\u306E\u304B\u300D\uFF09\r\n\r\n\u884C\u52D5\u6307\u91DD\uFF1A\r\n- \u554F\u3044\u304B\u3051\u3084\u9451\u5B9A\u306B\u95A2\u9023\u3057\u3066\u3001\u76F8\u8AC7\u8005\u304C\u6BCE\u65E5\u306E\u884C\u3044\u3092\u3069\u3046\u5909\u3048\u308B\u3079\u304D\u304B\u5177\u4F53\u7684\u306B\u30A2\u30C9\u30D0\u30A4\u30B9\u3059\u308B\r\n- \u300C\u305D\u306E\u884C\u52D5\u3092\u3057\u305F\u5F8C\u3067\u3069\u3093\u306A\u5909\u5316\u3092\u611F\u3058\u308B\u304B\u610F\u8B58\u3057\u3066\u307B\u3057\u3044\u300D\u3068\u5FC5\u305A\u4FC3\u3059\r\n\r\n\u8FD4\u7B54\u306F\u9069\u5EA6\u306B\u6BB5\u843D\u3092\u5206\u3051\u3001\u6539\u884C\u3092\u5165\u308C\u3066\u8AAD\u307F\u3084\u3059\u304F\u3057\u3066\u304F\u3060\u3055\u3044\u3002`;\r\n\r\n    const userPrompt = `\u76F8\u8AC7\u5185\u5BB9: ${text}\r\n\u751F\u5E74\u6708\u65E5: ${year}-${month}-${day}\r\n\u5B88\u8B77\u795E\u60C5\u5831: ${guardian}\r\n\u30AB\u30C6\u30B4\u30EA\u30FC: ${category}`;\r\n\r\n    // OpenAI API \u3092\u547C\u3073\u51FA\u3057\r\n    const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${apiKey}`\r\n      },\r\n      body: JSON.stringify({\r\n        model: \"gpt-4o-mini\",\r\n        messages: [\r\n          {\r\n            role: \"system\",\r\n            content: systemPrompt\r\n          },\r\n          {\r\n            role: \"user\",\r\n            content: userPrompt\r\n          }\r\n        ],\r\n        max_tokens: 1000,\r\n        temperature: 0.7\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`OpenAI API \u30A8\u30E9\u30FC: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    const aiResponse = data.choices[0]?.message?.content || \"\u9451\u5B9A\u7D50\u679C\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002\";\r\n\r\n    // \u30ED\u30B0\u51FA\u529B\r\n    console.log('\u76F8\u8AC7\u5185\u5BB9:', text);\r\n    console.log('\u751F\u5E74\u6708\u65E5:', `${year}-${month}-${day}`);\r\n    console.log('\u5B88\u8B77\u795E\u60C5\u5831:', guardian);\r\n    console.log('\u30AB\u30C6\u30B4\u30EA\u30FC:', category);\r\n\r\n    return aiResponse;\r\n\r\n  } catch (error) {\r\n    console.error('OpenAI API \u30A8\u30E9\u30FC:', error);\r\n    \r\n    // \u30ED\u30B0\u51FA\u529B\r\n    console.log('\u76F8\u8AC7\u5185\u5BB9:', text);\r\n    console.log('\u751F\u5E74\u6708\u65E5:', `${year}-${month}-${day}`);\r\n    console.log('\u5B88\u8B77\u795E\u60C5\u5831:', guardian);\r\n    console.log('\u30AB\u30C6\u30B4\u30EA\u30FC:', category);\r\n    \r\n    return \"\u9451\u5B9A\u7D50\u679C\u306E\u53D6\u5F97\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\";\r\n  }\r\n}\r\n", "// filename: cloudflare/worker.js (Cloudflare Worker)\r\n// Routes: /api/consult \u3067\u9451\u5B9A\u672C\u6587\u3092\u8FD4\u3059\r\n// ENV:\r\n// - OPENAI_API_KEY: OpenAI API\u30AD\u30FC\r\n// - ALLOW_ORIGIN: CORS\u8A31\u53EF\u30AA\u30EA\u30B8\u30F3\uFF08\u672A\u6307\u5B9A\u306A\u3089 \"*\"\uFF09\r\n\r\nimport { runConsult } from \"../src/consult/consult.js\";\r\n\r\nexport default {\r\n  async fetch(request, env, ctx) {\r\n    const url = new URL(request.url);\r\n\r\n    // ---- CORS preflight ----\r\n    if (request.method === \"OPTIONS\") {\r\n      return new Response(null, { headers: corsHeaders() });\r\n    }\r\n\r\n    // ---- health check ----\r\n    if (url.pathname === \"/health\") {\r\n      return json({ ok: true, ts: Date.now() }, env, request);\r\n    }\r\n\r\n    // ---- /api/consult endpoint ----\r\n    if (url.pathname === \"/api/consult\" && request.method === \"POST\") {\r\n      try {\r\n        const payload = await safeJson(request);\r\n        const { text, year, month, day, guardian, category } = payload;\r\n\r\n        // \u5FC5\u9808\u30D1\u30E9\u30E1\u30FC\u30BF\u306E\u691C\u8A3C\r\n        if (!text) {\r\n          return json({ \r\n            ok: false, \r\n            error: \"\u76F8\u8AC7\u5185\u5BB9\u304C\u6307\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093\" \r\n          }, env, request, 400);\r\n        }\r\n\r\n        // runConsult()\u3092\u547C\u3073\u51FA\u3057\r\n        const result = await runConsult({\r\n          text,\r\n          year,\r\n          month,\r\n          day,\r\n          guardian,\r\n          category\r\n        }, env.OPENAI_API_KEY);\r\n\r\n        // \u7D50\u679C\u3092\u6BB5\u843D\u914D\u5217\u306B\u5206\u5272\r\n        const paragraphs = result.split(\"\\n\\n\");\r\n\r\n        return json({ ok: true, paragraphs }, env, request);\r\n      } catch (err) {\r\n        console.error('API Error:', err);\r\n        return json({ ok: false, error: String(err?.message || err) }, env, request, 500);\r\n      }\r\n    }\r\n\r\n    // ---- not found ----\r\n    return json({ ok: false, error: \"Not found\" }, env, request, 404);\r\n  },\r\n};\r\n\r\n\r\n/* ========= \u4FBF\u5229\u95A2\u6570 ========= */\r\nfunction corsHeaders() {\r\n  return {\r\n    \"Access-Control-Allow-Origin\": \"*\",\r\n    \"Access-Control-Allow-Methods\": \"POST,GET,OPTIONS\",\r\n    \"Access-Control-Allow-Headers\": \"Content-Type,Authorization\",\r\n    \"Access-Control-Max-Age\": \"86400\",\r\n  };\r\n}\r\n\r\nfunction json(obj, env, request, status = 200) {\r\n  return new Response(JSON.stringify(obj), {\r\n    status,\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      ...corsHeaders(),\r\n    },\r\n  });\r\n}\r\n\r\nasync function safeJson(request) {\r\n  if (request.method !== \"POST\") return {};\r\n  const txt = await request.text();\r\n  try { return JSON.parse(txt || \"{}\"); } catch { return {}; }\r\n}\r\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"C:\\\\Users\\\\mituo\\\\Desktop\\\\syugo-sin\\\\cloudflare\\\\worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\Users\\\\mituo\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\Users\\\\mituo\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"C:\\\\Users\\\\mituo\\\\Desktop\\\\syugo-sin\\\\cloudflare\\\\worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"C:\\\\Users\\\\mituo\\\\Desktop\\\\syugo-sin\\\\.wrangler\\\\tmp\\\\bundle-nMeKAv\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\Users\\\\mituo\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"C:\\\\Users\\\\mituo\\\\Desktop\\\\syugo-sin\\\\.wrangler\\\\tmp\\\\bundle-nMeKAv\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"C:\\\\Users\\\\mituo\\\\Desktop\\\\syugo-sin\\\\.wrangler\\\\tmp\\\\bundle-nMeKAv\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": []
}
